
@model VehiculeCreateViewModel
@using AutoBaloo.Data.Enums;

@{ ViewData["Title"] = "Ajouter une voiture"; }

@*Pour prendre en charge le téléchargement de fichiers, définissez l'élément de formulaire enctype="multipart/form-data" *@

<form enctype="multipart/form-data" asp-controller="Vehicule" asp-action="create"
      method="post" class="mt-3">

    <div class="form-group row">
        <label asp-for="MarqueVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <select asp-for="MarqueVehicule" class="custom-select mr-sm-2"
                    asp-items="Html.GetEnumSelectList<MarqueVehicule>()">
                <option value="">Please Select</option>
            </select>
            <span asp-validation-for="MarqueVehicule" class="text-danger"></span>
        </div>
    </div>


    <div class="form-group row">
        <label asp-for="DescriptionVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="DescriptionVehicule" class="form-control" placeholder="Description Véhicule">
            <span asp-validation-for="DescriptionVehicule" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="KM" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="KM" class="form-control" placeholder="kélometrage ">
            <span asp-validation-for="KM" class="text-danger"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="CouleurVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="CouleurVehicule" class="form-control" placeholder="Couleur Véhicule">
            <span asp-validation-for="CouleurVehicule" class="text-danger"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="PrixVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="PrixVehicule" class="form-control" placeholder="Prix ">
            <span asp-validation-for="PrixVehicule" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="TypeCarbu" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="TypeCarbu" class="form-control" placeholder="Type Carburant  ">
            <span asp-validation-for="TypeCarbu" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="DateConstruct" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="DateConstruct" class="form-control" placeholder="   Date construction  ">
            <span asp-validation-for="DateConstruct" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="StatutVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <select asp-for="StatutVehicule" class="custom-select mr-sm-2"
                    asp-items="Html.GetEnumSelectList<StatutVehicule>()">
                <option value="">Please Select</option>
            </select>
            <span asp-validation-for="StatutVehicule" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="OptionVehicule" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="OptionVehicule" class="form-control" placeholder="Ajouter une option ">
            <span asp-validation-for="OptionVehicule" class="text-danger"></span>
        </div>
    </div>

    @*  asp-for tag helper est défini sur la propriété "Image". Le type de propriété "Image" est IFormFile, donc au moment
        de l'exécution, le noyau asp.net génère un contrôle de téléchargement de fichier (type d'entrée = fichier)
    *@

    <div class="form-group row">
        <label asp-for="Image" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <div class="custom-file">
                <input asp-for="Image" class="form-control custom-file-input">
                <label class="custom-file-label">Choose File...</label>
            </div>
        </div>
    </div>


    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" class="btn btn-primary">Ajouter une voiture </button>
        </div>
    </div>

    @*Ce script est requis pour afficher le fichier sélectionné dans l'élément de téléchargement de fichier*@
    @section Scripts {
        <script>
            $(document).ready(function () {
                $('.custom-file-input').on("change", function () {
                    var fileName = $(this).val().split("\\").pop();
                    $(this).next('.custom-file-label').html(fileName);
                });
            });
        </script>
    }
</form>


